# 오늘 배운 것을 정리하는 공간

## 03.12.2018

- 요청헤더:
  1. User-Agent: 이것을 활용해 접속자 통계를 낼 수 있다. IE로 접속한 사람을 찾아낼 수도 있어 이를 이용해, IE는 지원하지 않으니 크롬을 이용해달란 메시지를 띄울 수도 있다.
  2. Host: 헤더는 반드시 1개가 있어야 한다.
  3. Authorization: 인증토큰을 서버로 보낼때 사용하는 헤더이다.
  4. Origin: 요청 보낸 주소와 받는 주소가 다르면 CORS문제가 생긴다.
     - 요청 응답헤더에 `'Access-Control-Allow-Origin': '*'`을 넣어주면 모든 요청을 허용할 수 있다. 하지만 `'*'`는 모든 요청을 허용하기 때문에 이 부분만 바꿔주면 된다.
     - CORB현상: CORS를 허용하더라도 POST, PUT, DELETE 요청에서 `json`으로 보내면 차단되는 현상이다. `json` 대신 `www-form-unlencoded` 형식으로 데이터를 보내면 해결할 수있다.

## 04.12.2018

- jwt는 보통 세션과 함께 쓰이지 않는다. 내부 정보들이 세션과 중복되기 때문이다. 클라이언트에서 요청을 보낼떄 `headers`에 `Authorization`키에 jwt를 넣어서 보내면 서버에서 `req.get('Authorization')`으로 받을 수 있다.
- passport는 세션 기반이라 jwt를 연동하려면 `passport-jwt`를 사용해야 한다. 하지만 아직까지는 여기 소셜로그인을 어떻게 접착해야하는지 잘 모르겠다.
