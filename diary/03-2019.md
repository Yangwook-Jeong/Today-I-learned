# 오늘 배운 것을 정리하는 공간

## 03.03.2019

- 서버를 구분하려면 uuid가 필요하다.
- docker:

  - 네트워크 방식: `--net=NETWORK_TYPE`
    - bridge: 기본 설정이며 다른 방식으로 컨테이너를 생성하고 싶다면 `--net`플래그로 다른 옵션을 준다. docker0이라는 bridge가 도커 데몬을 실행하면 생성된다.
    - host: 컨테이너가 독립적인 네트워크 영역을 갖지 않고 host와 네트워크를 함꼐 사용하게 된다. 컨테이너의 ip와 인터페이스를 확인해보면 host의 네트워크 정보와 같다. bridge를 사용하지 않아서 docker0에 바인딩되지 않는다.
    - container: 다른 컨테이너의 네트워크 환경을 공유하게 된다. 사용법은 `--net=container:CONTAINER_ID`와 같다.
    - none: 격리된 네트워크 영역을 갖지만 인터페이스가 없는 상태로 컨테이너를 생성한다. 인터페이스를 직접 커스터마이징할 수 있도록 만든 것같다.
  - 컨테이너를 외부로 서비스하기 위해 동작하는 구조
    - 컨테이너를 생성하면 기본저긍로 외부와 통신이 불가능한 상태이다.
    - 외부로 노출할 포트를 지정한다
      - `-p 8080:80`와 같이 옵션을 지정했다면 외부에서 docker host의 8080포트로 요청이 들어왔을때 컨테이너의 80포트로 요청을 포워딩하겠다는 의미이다.
      - 컨테이너를 외부로 노출하도록 설정하면 docker host에는 docker-proxy라는 프로세스가 생성된다.
        - docker-proxy: docker host로 들어온 요청을 컨테이너로 넘기는 역할을 한다.
        - 컨테이너의 포트를 노출하도록 설정한 수만큼 프로세스가 생성된다.
    - link를 이용해서 컨테이너를 연동한다.
      - `--link CONTAINER_NAME` 옵션으로 ip를 이용하지 않고 컨테이너 이름을 이용해 통신을 주고 받을 수 있다.

- nginx: 로드밸런싱 역할을 한다.
