# 오늘 배운 것을 정리하는 공간

## 30.09.2019

- [lambda](https://medium.com/@yumenohosi/aws-lambda-api-gateway-dynamodb-node-js-사용기-삽질기-b5352e00b396)

  - warm/cold start
    - lambda를 처음 호출하면 cold start를 한다. 이 경우 초기 지연시간이 발생한다.
    - warm 상태를 유지하며 이때는 lambda를 다시 호출해도 지연시간이 발생하지 않는다.
    - 5분 이상 호출되지 않는다면 cold 상태로 바뀐다.
  - handler

  ```js
  exports.handler = (event, context, callback) => {
    // TODO implement
    callback(null, 'Hello from Lambda')
  }
  ```

  - trigger
    - api gateway
      - [링크](https://hyunseob.github.io/2017/05/27/aws-lambda-easy-start/)에 설명이 나와있다.
      - http method를 만들어 lambda 함수를 연결시켜준다.
      - body에 실어 보내는 내용은 lambda 함수의 event 객체에 들어가 있다.
      - `node_modules`와 `index.js`를 zip으로 묶어서 lambda에 업로드하면 모든 절차가 끝난다.
      - entry file명은 반드시 `index.js`여야 한다.
    - dynamo db
      - trigger로 lambda에 연결해준다.
      - table 이름, pk를 적당히 입력한다.

- dynamo db

## 01.10.2019

- lambda가 data를 저장할 수 있는 영구계층을 제공한다.
- multi a-z(Available Zone) - 기존 서버 장애시 failover가 가능하다.
- cloud front - web contents를 사용자에게 더 빨리 배포하도록 지원하는 service이다.
- 시간이 오래 걸리는 작업은 비동기로 한다.
- db 이중화 - master/slave로 query, select를 분산시켜 db server의 부하를 줄이는 방법이다. - slave는 master의 binary log file을 참조하여 update하므로, slave server에 login해서 db를 update하면 동기화되지 않는다.

## 03.10.2019

- nodejs
  - node module
    - process env
      - os
      - process
      - cluster
    - address
      - fs
      - path
      - url
      - querystring
      - stream
    - network
      - http
      - https
      - net
      - dgram
      - dns
  - global object
    - Buffer
      - js는 binary data를 다루는 기능이 없다. 그래서 Buffer를 통해 data를 다룬다.
      - file에서 binary data를 얻을 수도 있고 network에서 socket을 통해 얻을 수도 있다.
      - 새로운 buffer를 만들려면 new키워드를 통해 만들며, size가 정해지면 바꿀 수 없다.
  - utility
    - 전역 객체가 아니므로 require()를 해야한다.
  - event
    - 마찬가지로 require()가 필요하다.